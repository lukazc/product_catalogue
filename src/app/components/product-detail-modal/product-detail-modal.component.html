<mat-dialog-content>
    <ng-container *ngIf="product; else loadingIndicator">
        <h2>{{ product.title }}</h2>
        <div class="carousel">
            <div class="carousel-inner">
                <div class="carousel-item" *ngFor="let image of product.images; let i = index"
                    [class.active]="i === currentSlide">
                    <img [src]="image" alt="{{ product.title }}" (load)="onImageLoad(i)"
                        [ngClass]="{ 'loaded': imageLoaded[i], 'full': true }" />
                    <img *ngIf="!imageLoaded[i]" [src]="product.thumbnail" alt="{{ product.title }}"
                        class="thumbnail" />
                </div>
            </div>
            <ng-container *ngIf="product.images.length > 1">
                <a class="carousel-control-prev" (click)="prevSlide()">&#10094;</a>
                <a class="carousel-control-next" (click)="nextSlide()">&#10095;</a>
                <div class="carousel-dots">
                    <span *ngFor="let image of product.images; let i = index" [class.active]="i === currentSlide"
                        (click)="goToSlide(i)"></span>
                </div>
            </ng-container>
        </div>
        <p>{{ product.description }}</p>
        <p>Price: {{ product.price | currency }}</p>
    </ng-container>
    <ng-template #loadingIndicator>
        <div class="loading-indicator"></div>
    </ng-template>
</mat-dialog-content>
<mat-dialog-actions>
    <button mat-raised-button>Add to Cart</button>
    <button mat-button (click)="close()">Close</button>
</mat-dialog-actions>