<div class="cart-header">
    Your Cart
</div>
<div *ngIf="cart$ | async as cart; else emptyCart" class="cart-container">
    <div class="cart-item" *ngFor="let item of cart.products">
        <img [src]="item.thumbnail" alt="{{ item.title }}" class="cart-item-thumbnail">
        <div class="cart-item-details">
            <div class="cart-item-title">{{ item.title }}</div>
            <div class="cart-item-price">{{ item.price | currency }}</div>
        </div>
        <div class="cart-item-actions">
            <button mat-icon-button (click)="addProductQuantity(item)">
                <mat-icon>add</mat-icon>
            </button>
            <button mat-icon-button (click)="removeProductQuantity(item.id)">
                <mat-icon>remove</mat-icon>
            </button>
            <button mat-icon-button (click)="removeProduct(item.id)">
                <mat-icon>delete</mat-icon>
            </button>
        </div>
    </div>
    <div class="cart-summary">
        <div>Total Quantity: {{ cart.totalQuantity }}</div>
        <div>Total Price: {{ cart.totalPrice | currency }}</div>
        <button mat-raised-button color="warn" (click)="clearCart()">Clear Cart</button>
    </div>
</div>
<ng-template #emptyCart>
    <p>Your cart is empty.</p>
</ng-template>